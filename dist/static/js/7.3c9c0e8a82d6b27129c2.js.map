{"version":3,"sources":["webpack:///src/components/pages/Orders.vue","webpack:///./src/components/pages/Orders.vue?0bdb","webpack:///./src/components/pages/Orders.vue"],"names":["Orders","name","data","type","pagination","coupon","orders","methods","getOrders","page","arguments","length","undefined","vm","this","isLoading","api","axios","get","then","response","success","console","log","forEach","item","date","Date","create_at","Y","getFullYear","M","getMonth","D","getDate","message","$bus","$emit","catch","error","created","pages_Orders","render","_vm","_h","$createElement","_c","_self","attrs","active","on","update:active","$event","_v","staticClass","_m","_l","order","scope","_s","user","product","title","qty","unit","total","address","class","text-success","text-danger","is_enabled","aria-label","disabled","has_pre","href","click","preventDefault","current_page","aria-hidden","key","has_next","staticRenderFns","width","tclass","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.3c9c0e8a82d6b27129c2.js","sourcesContent":["<template>\n  <div>\n    <!-- Loading 套件 start-->\n    <loading :active.sync=\"isLoading\"></loading>\n    <!-- Loading 套件 end-->\n\n    <!-- 訂單內容 start -->\n    <div class=\"row ml-3 mr-1\">\n      <table class=\"table table-hover\">\n        <thead>\n          <tr>\n            <th scope=\"col\">購買時間</th>\n            <th scope=\"col\">購買人</th>\n            <th width=\"300px\" tclass=\"text-center\" scope=\"col\">購買項目</th>\n            <th width=\"100px\" scope=\"col\">應付金額</th>\n            <th scope=\"col\">寄送地址</th>\n            <th scope=\"col\">付款狀態</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\">\n            <th scope=\"row\">{{order['create_at']}}</th>\n            <td>{{order.user.name}}</td>\n            <td>\n              <div v-for=\"item in order.products\">\n                <p class=\"text-lg-left\">{{item.product.title + ' ' + item.qty + item.product.unit}}</p>\n              </div>\n            </td>\n            <td>{{order.total}}</td>\n            <td>{{order.user.address}}</td>\n            <td :class=\"{'text-success': order['is_paid'], 'text-danger': !order.is_enabled}\">{{order.is_enabled ? '已付款':'未付款'}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <!-- 訂單內容 end -->\n\n    <!-- 分頁標籤 start -->\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination mt-2\">\n        <li class=\"page-item\" :class=\"{'disabled': !pagination.has_pre}\">\n          <a @click.prevent=\"getOrders(pagination.current_page - 1)\" class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n            <span class=\"sr-only\">Previous</span>\n          </a>\n        </li>\n        <!-- 利用 total_pages 數字做 v-for 迴圈 -->\n        <li class=\"page-item\" :class=\"{'active': pagination.current_page === page}\" v-for=\"page in pagination.total_pages\" :key=\"page\"><a class=\"page-link\" href=\"#\" @click.prevent=\"getOrders(page)\">{{page}}</a></li>\n        <li class=\"page-item\" :class=\"{'disabled': !pagination.has_next}\">\n          <a @click.prevent=\"getOrders(pagination.current_page + 1)\" class=\"page-link\" href=\"#\" aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n            <span class=\"sr-only\">Next</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n    <!-- 分頁標籤 end -->\n  </div>\n\n</template>\n\n<script>\nimport $ from \"jquery\";\nexport default {\n  name: \"Alert\",\n  data() {\n    return {\n      type: \"add\",\n      pagination: {},\n      coupon: {},\n      orders: []\n    };\n  },\n  methods: {\n    getOrders(page = 1) {\n      const vm = this;\n      vm.isLoading = true;\n      const api = `${process.env.APIPATH}/api/${\n        process.env.CUSTOMPATH\n      }/admin/orders?page=${page}`;\n      vm.axios\n        .get(api)\n        .then(response => {\n          if (response.data.success) {\n            console.log(\"response.data: \", response.data);\n            // timestamp 轉換日期\n            response.data.orders.forEach(item => {\n              let date = new Date(item.create_at);\n              let Y = date.getFullYear() + \"-\";\n              let M =\n                (date.getMonth() + 1 < 10\n                  ? \"0\" + (date.getMonth() + 1)\n                  : date.getMonth() + 1) + \"-\";\n              let D = date.getDate() + \" \";\n              item.create_at = Y+M+D\n            });\n            vm.orders = response.data.orders;\n            vm.pagination = response.data.pagination;\n          } else {\n            console.log(response.data.message);\n            vm.$bus.$emit(\"message:push\", response.data.message, \"danger\");\n          }\n          vm.isLoading = false;\n        })\n        .catch(error => {\n          console.log(error);\n          vm.$bus.$emit(\"message:push\", \"伺服器內部錯誤!!!\", \"danger\");\n          vm.isLoading = false;\n        });\n    }\n  },\n  created() {\n    this.getOrders();\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/Orders.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('div',{staticClass:\"row ml-3 mr-1\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.orders),function(order){return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(order['create_at']))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(order.user.name))]),_vm._v(\" \"),_c('td',_vm._l((order.products),function(item){return _c('div',[_c('p',{staticClass:\"text-lg-left\"},[_vm._v(_vm._s(item.product.title + ' ' + item.qty + item.product.unit))])])})),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(order.total))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(order.user.address))]),_vm._v(\" \"),_c('td',{class:{'text-success': order['is_paid'], 'text-danger': !order.is_enabled}},[_vm._v(_vm._s(order.is_enabled ? '已付款':'未付款'))])])}))])]),_vm._v(\" \"),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination mt-2\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();_vm.getOrders(_vm.pagination.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Previous\")])])]),_vm._v(\" \"),_vm._l((_vm.pagination.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pagination.current_page === page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.getOrders(page)}}},[_vm._v(_vm._s(page))])])}),_vm._v(\" \"),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();_vm.getOrders(_vm.pagination.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")]),_vm._v(\" \"),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Next\")])])])],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"購買時間\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"購買人\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"300px\",\"tclass\":\"text-center\",\"scope\":\"col\"}},[_vm._v(\"購買項目\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"100px\",\"scope\":\"col\"}},[_vm._v(\"應付金額\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"寄送地址\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"付款狀態\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36ab9383\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Orders.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Orders.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Orders.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36ab9383\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Orders.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Orders.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}